{"version":3,"sources":["components/Filter.js","services/personService.js","components/PersonForm.js","components/Persons.js","components/Notification.js","App.js","index.js"],"names":["Filter","props","value","newFilter","onChange","event","console","log","target","setNewFilter","baseUrl","axios","get","then","response","data","newPerson","post","id","put","delete","PersonForm","persons","setPersons","newName","setNewName","newNumber","setNewNumber","setMessage","setError","onSubmit","preventDefault","personObject","name","number","findPerson","find","person","toLowerCase","undefined","window","alert","personService","returnedPerson","map","catch","error","setTimeout","concat","type","Persons","personsToShow","filter","includes","key","onClick","confirm","Notification","message","className","App","useState","useEffect","getPersons","length","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.3c4508a3.chunk.js","sourcesContent":["import React from 'react'\r\n\r\nconst Filter = (props) => {\r\n    const handleFilterChange = (event) => {\r\n        console.log('Filter: ', event.target.value)\r\n        props.setNewFilter(event.target.value)\r\n    }\r\n\r\n\r\nreturn (\r\n      <div>filter shown with <input value={props.newFilter} \r\n      onChange={handleFilterChange}/></div>\r\n)\r\n}\r\n\r\nexport default Filter","import axios from 'axios'\r\nconst baseUrl = '/api/persons'\r\n\r\nconst getAll = () => {\r\n    const request = axios.get(baseUrl)\r\n    return request.then(response => response.data)\r\n  }\r\n  \r\n  const addPerson = newPerson => {\r\n    const request = axios.post(baseUrl, newPerson)\r\n    return request.then(response => response.data)\r\n  }\r\n  \r\n  const update = (id, newPerson) => {\r\n    const request = axios.put(`${baseUrl}/${id}`, newPerson)\r\n    return request.then(response => response.data)\r\n  }\r\n  const deletePerson = id => {\r\n      return (\r\n          axios.delete(`${baseUrl}/${id}`)\r\n      )\r\n  }\r\n  \r\n  export default { getAll, addPerson, update, deletePerson }","import React from 'react'\r\nimport personService from '../services/personService'\r\n\r\nconst PersonForm = ({persons, setPersons, newName, \r\n    setNewName, newNumber, setNewNumber, setMessage, setError}) => {\r\n    const addPerson = (event) => {\r\n        event.preventDefault()\r\n        console.log('App, addPerson..')\r\n        const personObject = {\r\n            name: newName,\r\n            number: newNumber\r\n        }\r\n        const findPerson = \r\n            persons.find(person => person.name.toLowerCase() === newName.toLowerCase())\r\n            console.log('findPerson result: ',\r\n            persons.find(person => person.name === newName))\r\n\r\n        if(findPerson !== undefined) {\r\n            window.alert(`${newName} is already added to phonebook, replace the old\r\n            number with a new one?`)\r\n\r\n            personService\r\n                .update(findPerson.id, personObject)\r\n                .then(returnedPerson => {\r\n                    setPersons(persons.map(person => \r\n                        person.id !== findPerson.id ? person : returnedPerson))\r\n                    setMessage(\r\n                        `Updated ${findPerson.name}'s number`\r\n                    )\r\n                })\r\n                .catch(error => {\r\n                    setError(true)\r\n                    setMessage(`${findPerson.name} was already deleted from server`)\r\n                })\r\n            setTimeout(() => {\r\n                setMessage(null)\r\n            }, 4000)\r\n        }\r\n\r\n        else {\r\n            personService\r\n                .addPerson(personObject)\r\n                .then(personObject => {\r\n                    setPersons(persons.concat(personObject))\r\n                    setNewName('')\r\n                    setNewNumber('')\r\n                    setMessage(`Added ${personObject.name}`)\r\n                          \r\n                })\r\n            setTimeout(() => {\r\n                setMessage(null)\r\n            }, 4000)         \r\n        }\r\n      }\r\n    \r\n    const handlePersonChange = (event) => {\r\n        console.log('Name:', event.target.value)\r\n        setNewName(event.target.value)\r\n    }\r\n    const handleNumberChange = (event) => {\r\n        console.log('Number:', event.target.value)\r\n        setNewNumber(event.target.value)\r\n    }\r\n\r\n    return (\r\n\r\n    <form onSubmit={addPerson}>\r\n        <div>\r\n            name: <input value={newName} onChange={handlePersonChange}/>\r\n        </div>\r\n        <div>\r\n            number: <input value={newNumber} onChange={handleNumberChange}/>\r\n        </div>\r\n        <div>\r\n            <button type=\"submit\">add</button>\r\n        </div>\r\n    </form>\r\n    )\r\n}\r\n\r\nexport default PersonForm","import React from 'react'\r\nimport personService from '../services/personService'\r\n\r\nconst Persons = ({persons, setPersons, newFilter, setMessage, setError}) => {\r\n    const personsToShow = persons.filter(person => \r\n        person.name.toLowerCase().includes(newFilter))\r\n\r\n    const handleClick = (id, name) => () => {\r\n        if (window.confirm(`delete ${name}?`)) {\r\n        personService\r\n            .deletePerson(id)\r\n            .catch(error => {\r\n                setError(true)\r\n                setMessage(`${name} was already deleted from server`)\r\n            })\r\n        setMessage(\r\n            `Deleted ${name}`\r\n        )\r\n        setTimeout(() => {\r\n            setMessage(null)\r\n        }, 4000)\r\n\r\n        setPersons(persons.filter(person => \r\n            person.id !== id))  \r\n        }\r\n    }\r\n    \r\n    return (\r\n        <div>\r\n        {personsToShow.map(person => \r\n          <div key={person.name}>\r\n              {person.name} {person.number} <button onClick={handleClick(person.id, person.name)}>delete</button>\r\n          </div>\r\n          )}\r\n    </div>\r\n    )\r\n}\r\n\r\nexport default Persons","import React from 'react'\r\n\r\nconst Notification = ({ message, error }) => {\r\n    if (message === null) {\r\n      return null\r\n    }\r\n  \r\n    return (\r\n      <div className={error ? \"error\" : \"notification\"}>\r\n        {message}\r\n      </div>\r\n    )\r\n  }\r\n\r\nexport default Notification","import React, { useState, useEffect } from 'react'\r\nimport Filter from './components/Filter'\r\nimport PersonForm from './components/PersonForm'\r\nimport Persons from './components/Persons'\r\nimport personService from './services/personService'\r\nimport Notification from './components/Notification'\r\n\r\n\r\nconst App = () => {\r\n  console.log('App starts..')\r\n  const [persons, setPersons] = useState([])\r\n  const [ newName, setNewName ] = useState('')\r\n  const [ newNumber, setNewNumber ] = useState('')\r\n  const [ newFilter, setNewFilter ] = useState('')\r\n  const [message, setMessage] = useState(null)\r\n  const [error, setError] = useState(false)\r\n\r\n  useEffect(() => {\r\n    console.log('effect')\r\n    personService\r\n      .getAll()\r\n      .then(getPersons => {\r\n        setPersons(getPersons)\r\n      })\r\n  }, [])\r\n\r\n  console.log('render', persons.length, 'persons')  \r\n\r\n  return (   \r\n    <div>\r\n      <h2>Phonebook</h2>\r\n      <Notification message={message} error={error} />\r\n      <Filter newFilter={newFilter} setNewFilter={setNewFilter} />\r\n\r\n      <h2>add a new</h2>\r\n\r\n      <PersonForm persons={persons} setPersons={setPersons} \r\n        newName={newName} setNewName={setNewName} \r\n        newNumber={newNumber} setNewNumber={setNewNumber}\r\n        setMessage={setMessage} setError={setError}/>\r\n\r\n      <h2>Numbers</h2>\r\n\r\n      <Persons persons={persons} setPersons={setPersons} \r\n      newFilter={newFilter} setMessage={setMessage} setError={setError}/>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default App","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport App from './App'\nimport './index.css'\n\n\nReactDOM.render(\n  <App />,\n  document.getElementById('root')\n)"],"sourceRoot":""}